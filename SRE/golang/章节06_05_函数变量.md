[TOC]

***

#### 一、函数定义

***

* 函数也是一种类型，函数有多少种形式，函数变量就有多少种写法

```go
var a func() //无参数无返回值
var b func(int) //有一个int类型的参数
var c func(int) string //有一个int类型参数和string类型返回值
fmt.Println(a,b,c) //输出：<nil><nil><nil>
```

* 定义完函数变量后，可以使用匿名函数进行复制，也可以使用已经定义好的函数进行赋值
* 函数变量定义以后与普通函数调用语法相同，变量名就是普通函数声明的函数名

```go
package main

import "fmt"

func main() {
	//使用常规方式
	var a func()
	a = func() {
		fmt.Println("exec func1")
	}
	a()

	//短变量方式定义函数变量
	b := func(s string) {
		fmt.Println("exec func2")
	}
	b("string")

	//使用定义好的函数
	d := c
	d()
	//函数名称c也是一个变量
	c()
}

func c() {
	fmt.Println("exec c")
}
```

* 函数类型变量是除了slice、map、channel、interface外，第五种引用类型

```go
	//函数类型变量也是引用类型
	e := c
	f := e
	fmt.Printf("%p %p", e, f)
```

#### 二、函数作为参数或者返回值

***

* 变量可以作为函数的参数或返回值类型，而函数也可以单走函数的参数或者返回值

* 函数作为参数时，类型写成对应的类型

```go
func main() {
	//函数作为参数
	mydo(func(name string) {
		fmt.Println(name)
	})
}  

//函数作为参数
func mydo(arg func(name string)) {
	fmt.Println("exec mydo")
	arg("test")
}
```

* 函数作为返回值

```go
func main() {
	//函数作为返回值
	result := a() //返回函数变量名
	r2 := result()
	fmt.Println(r2)
}

//函数作为返回值
func a() func() int {
	return func() int {
		return 110
	}
}
```

